<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://file.moyublog.com/d/file/2019-08-17/723f835159529825324742cdc94c8a49.jpg"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="# Battery 电性能测试

    Battery产品支持PD、QC3.0、QC2.0、SCP、PPS、FCP、AFC、SUPERVOOC等快充协议，Battery模式可给3C类数码电子产品供电，Charger模式可进行容量存储。">
<meta property="og:title" content="硬件测试--Battery">
<meta property="og:description" content="# Battery 电性能测试

    Battery产品支持PD、QC3.0、QC2.0、SCP、PPS、FCP、AFC、SUPERVOOC等快充协议，Battery模式可给3C类数码电子产品供电，Charger模式可进行容量存储。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://xfengyin.github.io/post/ying-jian-ce-shi---Battery.html">
<meta property="og:image" content="https://file.moyublog.com/d/file/2019-08-17/723f835159529825324742cdc94c8a49.jpg">
<title>硬件测试--Battery</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">硬件测试--Battery</h1>
<div class="title-right">
    <a href="https://xfengyin.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/xfengyin/xfengyin.github.io/issues/1" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h1>Battery 电性能测试</h1>
<pre class="notranslate"><code class="notranslate">Battery产品支持PD、QC3.0、QC2.0、SCP、PPS、FCP、AFC、SUPERVOOC等快充协议，Battery模式可给3C类数码电子产品供电，Charger模式可进行容量存储。

使用的电芯成分为 Li-lion。

使用哪个系列的MCU？
</code></pre>
<p>输入部分</p>
<p>输入电流</p>
<pre class="notranslate"><code class="notranslate">测试目的：Charger模式下，评测电流值是否满足各种协议下的规定电流值大小。
</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/dfd4ef57-9e69-4543-9215-bdea6eb28e41"><img src="https://github.com/user-attachments/assets/dfd4ef57-9e69-4543-9215-bdea6eb28e41" alt="image" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/539e408f-3519-4d99-97f5-51cd5f71de39"><img src="https://github.com/user-attachments/assets/539e408f-3519-4d99-97f5-51cd5f71de39" alt="image" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/c270150e-d8ee-457c-971a-b824baba928f"><img src="https://github.com/user-attachments/assets/c270150e-d8ee-457c-971a-b824baba928f" alt="image" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/5c828e79-d04c-4ecf-a0f7-fd97a08dbb21"><img src="https://github.com/user-attachments/assets/5c828e79-d04c-4ecf-a0f7-fd97a08dbb21" alt="image" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/ba3eb3b1-b85a-4e83-b90d-682fefa2af78"><img src="https://github.com/user-attachments/assets/ba3eb3b1-b85a-4e83-b90d-682fefa2af78" alt="image" style="max-width: 100%;"></a></p>
<p>测试方法：多种适配器进行协议诱骗至不同档位，用直流电源替换供电，记录模拟电池上的输入电流值大小。</p>
<p>输入电压</p>
<p>输入过压保护与恢复</p>
<p>测试目的：Charger模式下，评测过压保护的电压点是否满足产品规格需求。</p>
<p>测试方法：协议充电器诱骗后，直流电源替换，在板端测量输入电压，0.01V步进增加，直至输入保护。再减小电压，直至输出恢复正常。</p>
<p>输入欠压保护</p>
<p>测试目的：Charger模式下，评测欠压保护的电压点是否满足产品规格需求。</p>
<p>测试方法：协议充电器诱骗后，直流电源替换，在板端测量输入电压，0.01V步进减小，直至输入保护。再增大电压，直至输出恢复正常。</p>
<p>输入功率分配</p>
<ul>
<li>
<p>测试目的：Charger模式下，评测</p>
</li>
<li>
<p>测试方法：</p>
</li>
</ul>
<p>输入短路</p>
<ul>
<li>
<p>D+/D- 短路（一般只要求5V，更高会导致MCU耐压不够损坏）</p>
<ul>
<li>
<p>测试目的：Charger模式下，评测信号传输短路时对产品的影响。如快充功能失效时，再恢复时能否正常。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>D+对正极短路，适配器对其充电；</p>
</li>
<li>
<p>D+对负极短路，适配器对其充电；</p>
</li>
<li>
<p>D-对正极短路，适配器对其充电；</p>
</li>
<li>
<p>D-对负极短路，适配器对其充电。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>输入短路</p>
<ul>
<li>
<p>测试目的：Charger模式下，评测过流保护的电流点是否满足产品规格需求。</p>
</li>
<li>
<p>测试方法：正负极短路再插入适配器充电；插入适配器后短路正负极；测试完成后检查充放电功能。</p>
</li>
</ul>
</li>
</ul>
<p>充电截止电流</p>
<ul>
<li>
<p>测试目的：Charger模式下，评测充电截止前的充电电流值是否满足标准要求，如0.02C为截止电流，低于这个值一段时间不进行充电。</p>
</li>
<li>
<p>测试方法：不同输入的适配器充电，监测电芯电压和充电电流，记录充电截止前的充电电流</p>
</li>
</ul>
<p>深度放电后充电</p>
<ul>
<li>
<p>测试目的：Charger模式下，评测电芯在低电压状态下，充电电压电流是否正常。</p>
</li>
<li>
<p>测试方法：移除电池保护板，将每节电芯以0.2C放空至2V，再充电，查看电芯电压和充电电流是否正常。</p>
</li>
</ul>
<p>滥用</p>
<ul>
<li>
<p>测试目的：模拟用户对各输入口乱用，防呆</p>
</li>
<li>
<p>测试方法：</p>
</li>
</ul>
<p>输出部分</p>
<p>输出电压</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出口板端电压值是否满足各协议对应的输出电压。</p>
</li>
<li>
<p>测试方法：测试各个协议下，负载为零或者空时，记录板端的输出；测试各个协议下，负载为满载时，记录输出末端电压</p>
</li>
</ul>
<p>如</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/e688da5a-deab-4516-9658-9325da4c837e"><img src="https://github.com/user-attachments/assets/e688da5a-deab-4516-9658-9325da4c837e" alt="image" style="max-width: 100%;"></a></p>
<p>输出压降补偿</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测各协议在不同档位负载下电压值下降的变化。 PS：补偿成线性关系---伏安特性曲线</p>
</li>
<li>
<p>测试方法：Battery模式，0.1A步进上调负载值，直至满载；再0.1A步进下调至空载，观测中间是否有突变。</p>
</li>
</ul>
<p>输出纹波电压</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测AC/DC电源性能</p>
</li>
<li>
<p>测试方法：在空载/半载/满载三个档位下，使用去掉接地的电压探头并入一个0.1uF陶瓷电容和10uF电解电容，监测输出端。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/72e0e239-bb9e-4e38-ab80-7bed111b8e9c"><img src="https://github.com/user-attachments/assets/72e0e239-bb9e-4e38-ab80-7bed111b8e9c" alt="image" style="max-width: 100%;"></a></p>
<p>PS： 负载设置为CR模式。示波器带宽设置20M，衰减多少就放大多少。纹波采样时间为每格10ms。一般输出纹波 &lt;= 200mV</p>
<p>输出动态响应</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测负载动态交流带载时，输出电压值是否稳定，及动态响应的时间。</p>
</li>
<li>
<p>测试方法：负载设置动态带载，转变斜率设置为0.15A/us，动态占空比50%，动态频率设置为100Hz，动态负载量的上限，下限按照10%~90%设置。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/0296cd6e-3883-4822-a6c4-9810c4ac20a1"><img src="https://github.com/user-attachments/assets/0296cd6e-3883-4822-a6c4-9810c4ac20a1" alt="image" style="max-width: 100%;"></a></p>
<p>输出恒流</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测各协议在负载CV模式下输出电流值是否稳定。</p>
</li>
<li>
<p>测试方法：负载设置CV恒压带载模式，电压设置空载-0.1V，打开输出后0.1V步进下调。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/951192a1-714c-4d7b-856c-f60a709dc898"><img src="https://github.com/user-attachments/assets/951192a1-714c-4d7b-856c-f60a709dc898" alt="image" style="max-width: 100%;"></a></p>
<p>输出降额</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测在电芯低电压时降额是否满足要求。</p>
</li>
<li>
<p>测试方法：模拟电池替代电芯。设置电压为4.2 * 串数，CV模式带载，0.01V下调，直至输出电流出现大幅度下降，此时电流值为降功率电流</p>
</li>
</ul>
<p>输出功率分配</p>
<ul>
<li>
<p>测试目的：Battery模式下，检测多个输出口的功率分配是否满足要求。</p>
</li>
<li>
<p>测试方法：按照规格书定义，多口同时输出，分别检测每个输出口的功率。</p>
</li>
<li>
<p>整机转换效率</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测整个PCB板对输入输出的效率转换。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>充电效率</p>
<ul>
<li>
<p>诱骗后直流电源供电，负载CV模式替代电芯；</p>
</li>
<li>
<p>设置直流电源电压5V；</p>
</li>
</ul>
<p>电子负载电压分别设置为3.2V,3.7V,4.1V(多串产品电压设置n,n为串数)；</p>
<ul>
<li>
<p>分别测量并记录其充电电流lin,以及充入电芯的电流lb,计算出其充电效率。</p>
</li>
<li>
<p>充电效率计算:</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>$$<br>
\eta(%)= (Vb<em>lb)/(Vin</em>lin) * 100%</p>
<pre class="notranslate"><code class="notranslate">- 放电效率

  * 直流电源替代电芯，负载额定输出；

  * 直流电压分别设置为3.2V,3.7V,4.1V(多串产品电压设置n,n为串数)；

  * 给移动电源单路输出带满载,测试移电源B+/B-电压为Vb,记录直流电源电流为Ib,带载输出口正负极电压为Vout,带载输出口电流为lout;

  * 计算测量输出口放电效率:
</code></pre>
<p>$$<br>
\eta(%)= (Vout<em>lout)/(Vb</em>lb) * 100%</p>
<ul>
<li>判定输出板端效率（除开电芯保护板）&gt;= 90%</li>
</ul>
<p>边冲边放功率分配</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测边输入边输出是否正常</p>
</li>
<li>
<p>测试方法：模拟电池替代电芯，分别将电芯电压设置为3.2V,3.7V,4.1V(多串产品电压设置n,n为串数)，再用规格要求适配器充电，同时输出按要求进行负载，记录电芯输入功率和适配器输入电压电流。</p>
</li>
</ul>
<p>转换效率</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测放电能量比和放电时间是否满足要求。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>满充电状态下，用5V输出最大额定电流负载，记录各输出口电压 Vo；</p>
</li>
<li>
<p>放电截止后，记录各输出口放电容量Co；</p>
</li>
<li>
<p>计算放电能量比：</p>
</li>
</ul>
</li>
</ul>
<p>$$
放电能量比 = ( V_o1  C_o1 + V_o2  C_o2 + ... + V_on  C_on ) / 电芯标称能量  100 %
$$</p>
<pre class="notranslate"><code class="notranslate">PS：负载设置为分容模式（Model：Battery）, 放电能量比 &gt;=80%
</code></pre>
<p>短路保护</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出的短路保护是否符合要求。短路电流及延时</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>各个输出口的所有电压档位均需要测试，且需要在诱骗前进行短路测试。</p>
</li>
<li>
<p>使用继电器/空气开关短路输出的正负极，测试后输出电压10S，查看输出是否处于短路后恢复又短路的状态（轻载自恢复）</p>
</li>
<li>
<p>去掉继电器后，测量输出电压10S，查看是否自行恢复输出/按键恢复</p>
</li>
</ul>
</li>
</ul>
<p>过流保护</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出过流保护功能是否正常。</p>
</li>
<li>
<p>测试方法：负载CC模式满载，上调负载电流，直至输出关闭；下调至恢复输出，若不能自行恢复，则按键观察</p>
</li>
</ul>
<p>睡眠截止电流</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出进入休眠状态下的电流值是否符合要求</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>负载从空载慢慢增加电流，直至电源指示灯/屏显亮起，此时为亮灯电流；</p>
</li>
<li>
<p>从亮灯电流降低负载电流，直至电源指示灯/屏显熄灭，此时为睡眠电流；</p>
</li>
<li>
<p>负载设置为分容模式（Model：Battery模式），以睡眠电流值进行分容，记录关机时间。</p>
</li>
</ul>
</li>
</ul>
<p>开机和静态电流</p>
<ul>
<li>
<p>测试目的：Battery模式下，输出待机状态下的电流值是否符合要求。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>整机开机电流：</p>
<ul>
<li>断开VB+/VB-，并将电流表串联进入主回路，使用适配器充电激活后断开，按键空载，记录显示的电流值。</li>
</ul>
</li>
<li>
<p>静态电流：</p>
<ul>
<li>输出关闭后，此时电流表显示值</li>
</ul>
</li>
<li>
<p>小电流模式（打开Type-USBA 持续2小时）</p>
<ul>
<li>记录小电流模式下空载的电芯电流，万用表测量电芯电压。</li>
</ul>
</li>
<li>
<p>小电流模式空载功率：</p>
<pre class="notranslate"><code class="notranslate">  功率 = 电芯电压 * 电芯电流
</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li>PS: 自耗电电流最好测试VB+端的。两端差异较大</li>
</ul>
<p>自耗电 （非真自耗电）</p>
<ul>
<li>
<p>测试目的：Battery模式下，输出口保持打开状态下的自耗电。</p>
</li>
<li>
<p>测试方法：满充电条件下且指示灯全亮情况下，所有口插入不同子母充电线，持续24h，查看电量显示情况。</p>
</li>
</ul>
<p>边充边放特性</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测边充边放功能</p>
</li>
<li>
<p>测试方法：输入端接入适配器，输出端带额定负载；输出端带额定负载，再输入端接入适配器，检测充放电功能是否正常。</p>
</li>
</ul>
<p>输出过压保护</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出过压保护是否正常</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>V+及P- 接入直流电源（PD协议加在指定电容上）；</p>
</li>
<li>
<p>负载输出100mA，缓慢增大V+/P-的电压，直至输出关闭；</p>
</li>
</ul>
</li>
<li>
<p>PS：过压保护电压及恢复，延时</p>
</li>
</ul>
<p>输出欠压保护</p>
<ul>
<li>
<p>测试目的：Battery模式下，评测输出欠压保护是否正常</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>负载CV模式带载，万用表监测输出电压</p>
</li>
<li>
<p>0.01V为步进降低输出电压，直至输出关闭；</p>
</li>
</ul>
</li>
<li>
<p>PS：欠压保护电压及恢复，延时</p>
</li>
</ul>
<p>Battery 安规测试</p>
<p>噪音</p>
<ul>
<li>
<p>测试目的：各种负载下，噪声是否达到规格要求</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>距离分贝仪 10cm；</p>
</li>
<li>
<p>负载由 0%~100% （50mA阶梯）监测噪声的分贝</p>
</li>
</ul>
</li>
<li>
<p>PS： 无线充MPP电量0~20%时，值 &lt;16dB。</p>
</li>
</ul>
<p>元件温升</p>
<ul>
<li>
<p>测试目的：充放电情况下，各个主要元器件的温飘情况。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>完全充满/完全放空的样品；</p>
</li>
<li>
<p>充电：</p>
<ul>
<li>
<p>热电偶线贴至主要元器件表面处；</p>
</li>
<li>
<p>温度稳定后，使用适配器进行充电，保存数据采集仪上的数据；</p>
</li>
</ul>
</li>
<li>
<p>放电：</p>
<ul>
<li>
<p>热电偶线贴至主要元器件表面处；</p>
</li>
<li>
<p>温度稳定后，负载CC模式下额定满载输出，直至放空，保存数据采集仪上的数据；</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>外壳温升</p>
<ul>
<li>
<p>测试目的：充放电情况下，外壳的温飘情况。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>
<p>完全充满/完全放空的样品；</p>
</li>
<li>
<p>充电：</p>
<ul>
<li>
<p>热成像仪扫瞄各个面温度最高点位，热电偶线贴至对应点位；</p>
</li>
<li>
<p>温度稳定后，使用适配器进行充电，保存数据采集仪上的数据；</p>
</li>
</ul>
</li>
<li>
<p>放电：</p>
<ul>
<li>
<p>热成像仪扫瞄各个面温度最高点位，热电偶线贴至对应点位</p>
</li>
<li>
<p>温度稳定后，负载CC模式下额定满载输出，直至放空，保存数据采集仪上的数据；</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>过温保护</p>
<ul>
<li>
<p>测试目的：充放电情况时，检测温度过高时，过温保护是否符合规格。</p>
</li>
<li>
<p>测试方法：</p>
<ul>
<li>数据采集仪监测NTC温度、输出电压、输入电流、精密电阻电压；</li>
</ul>
</li>
</ul></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://xfengyin.github.io">Joker 硬件分享</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","xfengyin/xfengyin.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}
</script>
<script>MathJax = {tex: {inlineMath: [["$", "$"]]}};</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</html>
